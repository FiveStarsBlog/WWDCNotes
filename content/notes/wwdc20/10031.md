

- SwiftUI's layout primitives are designed with composition in mind

## Stacks

When working with stacks of many elements embedded in `ScrollView`s, instead of loading everything immediately with `HStack`/`VStack`, we can now use `LazyHStack` and `LazyVStack`, which load components lazily.

Not all stacks should be lazy, for example `overlay`s and `background`s are views that will be drawn only when it's time to be displayed, therefore using lazy stacks don't bring any benefit.

## Grids

Grids are the equivalent of css's [Flexbox layout][flexbox].

LazyVGrid and LazyHGrid, similar to stacks, but for multi-column layouts.

When working with grids, we define columns/rows via an array of `GridItem` instances. Each item will specify how its relative column width/row height is computed.

GridItems are flexible by default, therefore taking all the space available:

```swift
// Creates a three column layout, with equally distributed space between the three columns.

var columns = [
    GridItem(spacing: 0),
    GridItem(spacing: 0),
    GridItem(spacing: 0)
]

ScrollView {
    LazyVGrid(columns: columns, spacing: 0) {
        ForEach(...) { ... in
           ...
        }
    }
}
```

We can also create an adaptive grid layout by declaring

```swift
// Creates as many columns as possible, each with a minimum width of 300 points.
var columns = [
    GridItem(.adaptive(minimum: 300), spacing: 0)
]

ScrollView {
    LazyVGrid(columns: columns, spacing: 0) {
        ForEach(...) { ... in
           ...
        }
    }
}
```

## Outlines

An `OutlineGroup` is similar to a `ForEach` except that, instead of iterating over a flat collection, `OutlineGroup` traverses tree structure data.

```swift
OutlineGroup(
    array,
    children: \.children
) { element in
    ...
}
```

## Progrssive Display Of Information

`DisclosureGroup` is a new SwiftUI element that shows/hides content to the user beased on a @binding bool.

The binding is optional, as in if we don't provide one, the view will use an internal one and start with `isExpanded` set to `false`.

```swift
// Progressive display of information
DisclosureGroup(isExpanded: $showingContent) {
   // content here
} label: {
   Label("Fill", â€¦)
}
```

## Lists

`List` has a new initializer that combines `OutlineGroup` and `DisclosureGroup` with a `List`.

This can be used to display hiearchical data such as a folder structure

```swift
List(array, children: \.children) { element in
  ...
}
```

This is effectively the same as:

```swift
OutlineGroup(array, children: \.children) {
	ForEach(array) { element
		DisclosureGroup {
			// new outline with the children this time
			OutlineGroup(element.children, children: \.children) {
				...
			}
		} label: {
			...
		}
		}
	}
}
```


```swift

```

[flexbox]: https://en.wikipedia.org/wiki/CSS_Flexible_Box_Layout