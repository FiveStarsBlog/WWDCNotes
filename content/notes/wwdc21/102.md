---
contributors: abadikaka, zntfdr
---

## [Xcode Cloud][xc]

- CI/CD service built into Xcode and designed for Apple developers, runs on the cloud
- Everything can be done within Xcode UI, no context switching. 
- Integrates with any git host provider (GitHub, GitLab, ...)
- Setup CI/CD in 1 minute
- Configuration centralized in the cloud
- Flexible and extensible
- Each Xcode Cloud workflow configuration can be accessed through:
	- Xcode UI
	- App Store Connect web UI
	- App Store Connect public REST API (in JSON)

- Automatically handles code signing, app distribution and other workflows
- Review workflow results directly in Xcode
- Can automatically trigger workflows via PR creation, tags, and more
- We can choose environment's Xcode version, simulators (or just use Xcode Cloud's “recommended” ones), including targeting iOS beta releases (even when you’re using an earlier version of  Xcode)
- Helps testing more thoroughly on all platforms and in parallel
- Can notify back once the flow has finished (E.g. on slack)
- Can run scripts

Pricing:

- Free limited beta (sign up [here][xcb])
- More on pricing/availability this fall

## Code signing in the Cloud

- No more keeping and update certification and provisioning profile in your machine
- More insight of test flight beta testers
- Crash logs from test flight testers is automatically delivered in Xcode Organizer within minutes, can contact the tester directly from Organizer crash logs.

## Embedded Xcode GitFlow

Xcode has a new `Source Control Changes` tab, for better `git` integration:
- Shows all branches
- Shows all PRs
    - PR comments Integration directly in Xcode
    - Full overview of activities and conversations going on on each 
    - Live status on all workflows
    - Shows comments in line in the code editor
- In-line comparison and side-by side 

## Xcode Testing enhancements

When running UI tests, we can now see all screenshots in a gallery-like mode instead of having to click through each test step ourselves.
To enable it, go `Editor results menu > Gallery View` (instead of the default list view)

![][galleryView]

Run test repeatedly:
- We can run a single test multiple times automatically, this is great to check when a test is unreliable 
- New [`XCTExpectFailure`][XCTExpectFailure] API. This command declares a test is unreliable: the test suite will pass even when this specific test fails, in the results there will be a reminder about this test failing.

## New Xcode 13 features highlights

- Memory Tracking in XCTest 
- watchOS Digital Crown Interaction Tests 
- Smarter Swift Code Completion
- iPadOS Cursor Interaction Tests
- VIM Key Bindings
- Streamlined Project Navigator
- Faster Swift Builds 
- Swift Documentation Compiler
- Improved Swift Syntax Coloring
- Project Content for Swift Playgrounds
- Simplified Project Templates 
- Mac Scroll Performance Testing
- Swift Package Manager Index 
- Columnar Breakpoints
- SwiftUl Preview Rotations
- Layered Symbols 

## Swift Concurrency

- Modern, safe, fast concurrency API

### Async await

- Async: function
- Await: caller wait this operation to be done
- Avoid nested completion handlers

### Structured Concurrency

- Create concurrent task easily
![][async]

### Actors
- Ensuring safe-thread access between task
- Avoid race condition
- No need manually synchronous the operation inside
- combine it with async await for guarantee mutual exclusion
- @MainActor: API run in main thread
- Effective optimization, reducing reference count, inlining, excessive context switches
![][actor]

## SwiftUI
- `.refreshable`, `.searchable`, `#if else` conditional statement in the Swiftui + suggestion API
- Accessibility support with `accessibilityFotor`
- Improvement SwiftUI API

## Swift Playground 4

- Allowing build app and submit app store
![][playground1]

## ARKit

- RealityKit 2
- Create Model from Images to 3D Model optimize for AR (no more $ dollar spent)
![][arkit]

## Metal

- More realistic with Dynamic Libraries and Retracing API
- Adaptive sync display
- Adding Game Controller support
- Selective Shader Debugger
![][metal]

- Texture Converter Tool
- Metal Debugger Timeline View
![][metal1]

- Unified Metal Graphics Platform

## Focus
![][focus]

### Urgency Level
![][notification]
- Passive : Time sensitive
- Active : Sounds + Haptic
- Time Sensitive : Longer time than active
- Critical : Most urgent category

- Communication of People : Notification with an Avatar
- Notification Summary  (Personalized)
- Suggestion of notification depend on the urgency
![][notification1]

## Screen Time API

![][screentime]

- Parental Control Enhancement

### Managed Setting :
- Locking account
- Grant password change
- Filter web traffic
- Limit access to app

### Device Activity
![][parental]

## Widget

- New Extra Large Widget for iPad
- Widget Suggestion
![][intent]
- More useful and discoverable widget
![][largeWidget]

## Share Play API

- Sharing content with playback coordination
- GroupActivities framework

![][shareplay]

[xc]: https://developer.apple.com/xcode-cloud/
[xcb]: https://developer.apple.com/xcode-cloud/beta/request/#!/agree
[XCTExpectFailure]: https://developer.apple.com/documentation/xctest/3726077-xctexpectfailure

[oldFlowXcodeCloud]: ../../../images/notes/wwdc21/102/oldFlow.png
[newFlowXcodeCloud]: ../../../images/notes/wwdc21/102/newFlow.png
[actor]: ../../../images/notes/wwdc21/102/actor.png
[arkit]: ../../../images/notes/wwdc21/102/arkit.png
[async]: ../../../images/notes/wwdc21/102/async.png
[codeReview]: ../../../images/notes/wwdc21/102/codeReview.png
[crashlytics]: ../../../images/notes/wwdc21/102/crashlytics.png
[focus]: ../../../images/notes/wwdc21/102/focus.png
[galleryView]: ../../../images/notes/wwdc21/102/galleryView.png
[intent]: ../../../images/notes/wwdc21/102/intent.png
[largeWidget]: ../../../images/notes/wwdc21/102/largeWidget.png
[metal]: ../../../images/notes/wwdc21/102/metal.png
[metal1]: ../../../images/notes/wwdc21/102/metal1.png
[notification]: ../../../images/notes/wwdc21/102/notification.png
[notification1]: ../../../images/notes/wwdc21/102/notification1.png
[parental]: ../../../images/notes/wwdc21/102/parental.png
[playground1]: ../../../images/notes/wwdc21/102/playground1.png
[screentime]: ../../../images/notes/wwdc21/102/screentime.png
[shareplay]: ../../../images/notes/wwdc21/102/shareplay.png
