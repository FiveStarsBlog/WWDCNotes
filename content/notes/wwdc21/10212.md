---
contributors: abadikaka
---

![HTTP Instrument Analyzer][0]

# Analyze HTTP traffic in Instruments

## Track hierarchy

![Track hierarchy][1]

## HTTP Trafic instruments
- Number of active tasks

## Process
- Debugable process and background tasks daemon

## Session
- One track per URLSession object
- Individual task interval
- Configurable session name

## Domain
- Only task that requested in the domain
- More detail about tasks
- Individual transactions
- Transaction states

## Task Structure
- Contain Request -> Response

![Task structure][2]

## Task Timing
- Structural timing from start till the end

![Task Timing][3]

## Task Identifier
- Ability to add the task identifier for clarity

![Task Identifier][5]

## Task Error
- Ability to distinguish error and success with color

![Task Error][6]

## Transactions
- Request + response pair being handled by the URL Loading system
- Contains all the HTTP Layer information
- URL, Http version, connection, cache info
- Request + Response header
- Request + Response body
- And more

![Transactions][7]

## Transaction states
- Multiple states to add information for distinction between each block

![States][8]

## Times
- Information on timing summary of each layers from beginning and end of a network call

![Times][9]

## Example of usage:
- Head of line blocking (waiting previous transaction finish then continue the task) because of HTTP 1.0
- Solution : Use modern http version; HTTP 2 and HTTP 3 can multiplex
- Multiple transaction on the same connection

## Instrument

![Monitor][10]

### Focus on the task description
![Focus on the task description][11]

### Expand the task description
![Expand task description][12]

### Filter by connection
![Filter task][13]

### Identify the http task issues (Ex: Staircase problem)
![Problem][14]

### Identify the request (Ex: wrong expiration date of cookie)
![Problem 1][15]

### Identify the backtrace (Ex: cached response)
![Problem 2][16]

### Filter the session (Ex: Found an issue with the data that sent to server)
![Problem 3][17]

### Export the report to .har extension
![Export][18]

## Output
- Save and export report to .har to analyse issues
- .har is a JSON structure

![JSON][19]

## Next Steps
- Target app  today to detect problems
- Name your URL Session and URLSessionTask for easier debugging
- Adopt latest networking protocols
- Audit your app requests to check if can send less information

[0]: ../../../images/notes/wwdc21/10212/0.png
[1]: ../../../images/notes/wwdc21/10212/1.png
[2]: ../../../images/notes/wwdc21/10212/2.png
[3]: ../../../images/notes/wwdc21/10212/3.png
[4]: ../../../images/notes/wwdc21/10212/4.png
[5]: ../../../images/notes/wwdc21/10212/5.png
[6]: ../../../images/notes/wwdc21/10212/6.png
[7]: ../../../images/notes/wwdc21/10212/7.png
[8]: ../../../images/notes/wwdc21/10212/8.png
[9]: ../../../images/notes/wwdc21/10212/9.png
[10]: ../../../images/notes/wwdc21/10212/10.png
[11]: ../../../images/notes/wwdc21/10212/11.png
[12]: ../../../images/notes/wwdc21/10212/12.png
[13]: ../../../images/notes/wwdc21/10212/13.png
[14]: ../../../images/notes/wwdc21/10212/14.png
[15]: ../../../images/notes/wwdc21/10212/15.png
[16]: ../../../images/notes/wwdc21/10212/16.png
[17]: ../../../images/notes/wwdc21/10212/17.png
[18]: ../../../images/notes/wwdc21/10212/18.png
[19]: ../../../images/notes/wwdc21/10212/19.png
